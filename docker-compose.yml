version: '3.8'

services:
  ts3-music-bot:
    build: .
    container_name: ts3-music-bot
    restart: unless-stopped
    
    ports:
      - "3000:3000"  # API and Web Interface
    
    environment:
      # TeamSpeak 3 Server Configuration
      TS3_HOST: ${TS3_HOST:-your-ts3-server.com}
      TS3_PORT: ${TS3_PORT:-9987}
      TS3_NICKNAME: ${TS3_NICKNAME:-MusicBot}
      TS3_SERVER_PASSWORD: ${TS3_SERVER_PASSWORD:-}
      TS3_USERNAME: ${TS3_USERNAME:-serveradmin}
      TS3_PASSWORD: ${TS3_PASSWORD}
      
      # Default Channel (optional)
      TS3_DEFAULT_CHANNEL: ${TS3_DEFAULT_CHANNEL:-Music}
      
      # API Server Configuration
      API_PORT: ${API_PORT:-3000}
      
      # Audio Configuration
      DEFAULT_VOLUME: ${DEFAULT_VOLUME:-50}
    
    # Optional: Mount volume for logs or persistence
    volumes:
      - ./logs:/app/logs
    
    # Network mode (use host if you have connection issues)
    # network_mode: host
    
    # Resource limits (optional)
    deploy:
      resources:
        limits:
          cpus: '1.0'
          memory: 512M
        reservations:
          cpus: '0.5'
          memory: 256M
